/* Default to dark theme; adapt variables for light if needed */
:root{--bg:#0b0b0b;--fg:#f5f5f7;--muted:#9aa0a6;--card:#111213;--border:#222;--accent:#0a84ff}
@media(prefers-color-scheme:light){:root{--bg:#fff;--fg:#111;--muted:#6b7280;--card:#fafafa;--border:#e5e7eb;--accent:#0071e3}}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);position:relative;overflow-x:hidden}
/* Dynamic flowing gradient background */
body::before{content:"";position:fixed;inset:-40% -20%;
	background:radial-gradient(1200px 800px at 20% 20%, rgba(10,132,255,0.15), transparent 60%),
						 radial-gradient(1000px 700px at 80% 30%, rgba(48,209,88,0.12), transparent 60%),
						 radial-gradient(900px 900px at 30% 80%, rgba(255,159,10,0.10), transparent 60%);
	filter:blur(40px);z-index:-1;animation:flow 24s linear infinite;opacity:0.8}
@keyframes flow{0%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(2%, -1%, 0) scale(1.03)}100%{transform:translate3d(0,0,0) scale(1)}}
.hero{padding:32px 0 20px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent)}
.hero-inner{max-width:1080px;margin:0 auto;padding:0 20px;text-align:center}
.brand{font-size:44px;font-weight:600;letter-spacing:-0.02em}
.subtitle{margin-top:6px;color:var(--muted)}
.intro{margin:12px auto 0;max-width:900px;color:var(--muted);line-height:1.6}
.cta-row{display:flex;gap:12px;justify-content:center;margin-top:18px;flex-wrap:wrap}
.btn{appearance:none;background:transparent;color:var(--fg);border:1px solid var(--border);padding:8px 14px;border-radius:999px;font-weight:500;cursor:pointer;transition:transform .12s ease, box-shadow .2s ease, background .2s ease}
.btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
.btn:hover{box-shadow:0 6px 18px rgba(10,132,255,.15)}
.btn:active{transform:scale(.98)}
.btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.btn.file{position:relative;overflow:hidden;border-radius:12px;height:40px;padding:0 16px;display:flex;align-items:center;flex:0 0 auto}
.btn.file input{position:absolute;inset:0;opacity:0;cursor:pointer}
.log{margin-top:12px;color:var(--muted);white-space:pre-wrap}
.content{max-width:1080px;margin:24px auto;padding:0 20px;display:grid;gap:20px}
.two-col{display:grid;grid-template-columns:2fr 1fr;gap:16px;align-items:stretch}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px}
.card.small{padding:14px}
.card.large{padding:16px}
/* Equal height for top two cards */
.two-col .card.small{min-height:360px;display:flex;flex-direction:column}
.grid.two{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px;align-items:stretch}
.field label{display:block;margin-bottom:6px;color:var(--muted)}
.field input,.field select{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:transparent;color:var(--fg)}
.field input[readonly]{opacity:.75;cursor:not-allowed}
.field.spaced{margin-top:12px}
.input-row{display:flex;gap:10px;align-items:center}
.input-row input{flex:1}
.pill{flex:1 1 auto;min-width:0;display:flex;align-items:center;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:transparent;color:var(--fg);min-height:40px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.input-row .icon{display:inline-flex;align-items:center;justify-content:center;color:var(--muted)}
.input-row .icon svg{width:16px;height:16px}
.input-row .icon.lg svg{width:20px;height:20px}
.btn.file .icon{margin-right:6px}
.btn.file .icon.sm svg{width:14px;height:14px}
.cta-row.left{justify-content:flex-start}
.gallery-controls{display:flex;align-items:center;gap:12px;margin-bottom:10px}
.muted{color:var(--muted)}
.code{background:#0f172a;color:#e2e8f0;border-radius:12px;padding:12px;max-height:320px;overflow:auto;border:1px solid #1e293b}
.terminal-out{min-height:clamp(220px, 32vh, 420px);max-height:420px;overflow-y:auto;flex:1;white-space:pre-wrap;word-break:break-word}
/* Chart container with side arrows */
.chart-wrap{position:relative;min-height:clamp(280px, 40vh, 520px)}
.chart-wrap.small{min-height:clamp(280px, 40vh, 520px);flex:1;padding-left:40px;padding-right:40px}
.chart-wrap canvas{position:relative;z-index:1;width:100% !important;height:100% !important;display:block}
.nav-arrow{position:absolute;top:50%;transform:translateY(-50%);width:32px;height:32px;border-radius:50%;
	border:1px solid var(--border);background:rgba(255,255,255,0.06);backdrop-filter:blur(6px);color:var(--fg);cursor:pointer;z-index:3;transition:transform .12s ease, background .2s ease, box-shadow .2s ease}
.nav-arrow.left{left:8px}
.nav-arrow.right{right:8px}
.nav-arrow:hover{background:rgba(255,255,255,0.12);box-shadow:0 8px 24px rgba(0,0,0,.35)}
.nav-arrow:active{transform:translateY(-50%) scale(.96)}

/* Buttons */
.btn.danger{background:#dc3545;border-color:#dc3545;color:#fff}
.btn.danger:hover{box-shadow:0 8px 24px rgba(220,53,69,.35)}
.btn.gradient{background:linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);border:none;color:#fff;font-weight:600}
.btn.gradient:hover{box-shadow:0 8px 24px rgba(102,126,234,.45);background:linear-gradient(135deg, #5568d3 0%, #5f3a85 50%, #d97ae8 100%)}

/* Terminal textarea rounded style */
.terminal-textarea{resize:vertical;border:1px solid var(--border);border-radius:12px;background:transparent;color:var(--fg);padding:10px 12px;font-family:inherit;max-height:420px;overflow-y:auto}
.input-row.stretch{align-items:stretch}
.console-card .flex-fill{flex:1;display:flex;flex-direction:column}
.console-card .terminal-textarea.fill{flex:1}

/* Responsive */
@media (max-width: 900px){
	.two-col{grid-template-columns:1fr}
	.chart-wrap{min-height:240px}
}
